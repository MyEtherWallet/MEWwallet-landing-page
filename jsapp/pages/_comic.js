/**
 * Комикс
 **/

var comics = []
var comic = -1
var DELAY = 200
var strings = []
var loading = false

function appStore(x, y) {
  return '<a target="_blanck" href="https://apps.apple.com/app/apple-store/id1464614025?pt=118781877&ct=Ethereum%20comic&mt=8"><svg xmlns="http://www.w3.org/2000/svg" y="' + y + '" x="' + x + '" width="394.89" height="132" viewBox="0 0 120 40"><style>.a{fill:#FFF;}</style><title>  app_store_badge</title><g style="fill:none;stroke-width:1;stroke:none"><g style="fill:#000;stroke:#A6A6A6"><path d="M9.5 0.5L110.7 0.5 111.2 0.5C111.5 0.5 111.7 0.5 112 0.5 112.8 0.5 113.4 0.6 114.1 0.7 114.7 0.8 115.3 1 115.8 1.3 116.9 1.8 117.8 2.7 118.4 3.8 118.7 4.4 118.9 5 119 5.6 119.1 6.2 119.1 6.9 119.2 7.5 119.2 7.8 119.2 8.1 119.2 8.4 119.2 8.8 119.2 9.2 119.2 9.5L119.2 9.5 119.2 30.5C119.2 30.8 119.2 31.2 119.2 31.5 119.2 31.9 119.2 32.2 119.2 32.5 119.1 33.1 119.1 33.8 119 34.4 118.9 35 118.7 35.6 118.4 36.2 118.1 36.7 117.8 37.2 117.3 37.6 116.9 38.1 116.4 38.5 115.8 38.7 115.3 39 114.7 39.2 114.1 39.3 113.4 39.4 112.8 39.5 112.1 39.5 111.8 39.5 111.5 39.5 111.2 39.5L111.2 39.5 110.1 39.5 9.5 39.5C9.2 39.5 8.8 39.5 8.4 39.5 8.1 39.5 7.8 39.5 7.5 39.5 6.9 39.5 6.2 39.4 5.6 39.3 5 39.2 4.4 39 3.8 38.7 3.3 38.5 2.8 38.1 2.3 37.6 1.9 37.2 1.5 36.7 1.3 36.2 1 35.6 0.8 35 0.7 34.4 0.6 33.8 0.5 33.1 0.5 32.5 0.5 32.3 0.5 32.1 0.5 31.9L0.5 31.9 0.5 8.5C0.5 8 0.5 7.7 0.5 7.5 0.5 6.9 0.6 6.2 0.7 5.6 0.8 5 1 4.4 1.3 3.8 1.5 3.3 1.9 2.8 2.4 2.4 2.8 1.9 3.3 1.5 3.8 1.3 4.4 1 5 0.8 5.6 0.7 6.2 0.6 6.9 0.5 7.5 0.5 8 0.5 8.2 0.5 8.4 0.5L8.4 0.5 9.5 0.5Z"/></g><path d="M22.9 14L23.1 14C24.7 14 26.2 14.8 27.1 16.1 25.7 17 24.8 18.6 24.8 20.3 24.8 22.2 25.9 24 27.7 24.7 27.3 25.8 26.8 26.8 26.2 27.8 25.3 29.1 24.3 30.4 22.8 30.5 21.4 30.5 20.9 29.6 19.3 29.6 17.6 29.6 17.1 30.4 15.7 30.5 14.3 30.5 13.2 29.1 12.3 27.7 10.4 25 9 20.1 10.9 16.8 11.8 15.1 13.5 14.1 15.4 14 16.8 14 18.1 15 19 15 19.8 15 21.5 13.8 23.1 14ZM23.2 8.7C23.2 10 22.8 11.2 22 12.2 21.2 13.2 20.1 13.8 18.8 13.7 18.7 12.5 19.1 11.3 19.9 10.4 20.8 9.4 21.9 8.9 23.2 8.7Z" class="a"/><path d="M51.3 21.3C53.6 21.3 55.2 23.2 55.2 26 55.2 28.8 53.7 30.6 51.4 30.6 50.2 30.7 49.1 30 48.5 29L48.5 29 48.5 33.5 46.6 33.5 46.6 21.4 48.4 21.4 48.4 22.9 48.5 22.9C49.1 21.9 50.2 21.3 51.3 21.3ZM61.3 21.3C63.6 21.3 65.1 23.2 65.1 26 65.1 28.8 63.6 30.6 61.3 30.6 60.2 30.7 59.1 30 58.5 29L58.5 29 58.5 33.5 56.6 33.5 56.6 21.4 58.4 21.4 58.4 22.9 58.4 22.9C59 21.9 60.1 21.3 61.3 21.3ZM74.7 17.9C77.3 17.9 79.1 19.3 79.1 21.5L77.3 21.5C77.1 20.2 76.1 19.5 74.6 19.5 73.1 19.5 72.1 20.3 72.1 21.4 72.1 22.2 72.8 22.8 74.4 23.1L75.7 23.5C78.3 24.1 79.3 25.1 79.3 26.9 79.3 29.2 77.5 30.7 74.5 30.7 71.8 30.7 69.9 29.3 69.8 27L71.7 27C71.8 28.3 73 29.1 74.7 29.1 76.2 29.1 77.4 28.3 77.4 27.2 77.4 26.2 76.7 25.6 75.1 25.2L73.5 24.8C71.2 24.3 70.1 23.2 70.1 21.5 70.1 19.3 72 17.9 74.7 17.9ZM90.4 21.3C93 21.3 94.7 23.1 94.7 26 94.7 28.8 93 30.6 90.4 30.6 87.7 30.6 86.1 28.8 86.1 26 86.1 23.1 87.7 21.3 90.4 21.3ZM105.4 21.3C107.9 21.3 109.5 23.1 109.5 25.8L109.5 26.4 103.1 26.4 103.1 26.5C103 27.2 103.3 27.9 103.7 28.4 104.2 28.9 104.9 29.1 105.5 29.1 106.4 29.2 107.3 28.7 107.6 27.8L109.4 27.8C109.1 29.5 107.5 30.6 105.5 30.6 102.9 30.6 101.2 28.8 101.2 26 101.2 23.2 102.9 21.3 105.4 21.3ZM83.3 19.3L83.3 21.4 85.1 21.4 85.1 22.9 83.3 22.9 83.3 27.9C83.3 28.7 83.7 29 84.4 29 84.7 29 84.9 29 85.1 29L85.1 30.5C84.7 30.5 84.4 30.6 84 30.5 82.2 30.5 81.5 29.9 81.5 28.1L81.5 22.9 80.2 22.9 80.2 21.4 81.5 21.4 81.5 19.3 83.3 19.3ZM41 18.1L45.5 30.5 43.4 30.5 42.3 27.1 37.6 27.1 36.4 30.5 34.4 30.5 38.9 18.1 41 18.1ZM100.2 21.3C100.4 21.3 100.6 21.4 100.8 21.4L100.8 23.2C100.5 23.1 100.3 23 100 23 99.4 23 98.9 23.2 98.5 23.6 98.2 24 98 24.6 98 25.1L98 30.5 96.2 30.5 96.2 21.4 98 21.4 98 23 98 23C98.2 22 99.2 21.3 100.2 21.3ZM90.4 22.9C88.9 22.9 88 24 88 26 88 27.9 88.9 29.1 90.4 29.1 91.9 29.1 92.8 27.9 92.8 26 92.8 24 91.9 22.9 90.4 22.9ZM50.9 22.9C49.4 22.9 48.5 24.2 48.5 26 48.5 27.8 49.4 29 50.9 29 52.3 29 53.2 27.8 53.2 26 53.2 24.1 52.3 22.9 50.9 22.9ZM60.8 22.9C59.4 22.9 58.4 24.2 58.4 26 58.4 27.8 59.4 29 60.8 29 62.3 29 63.2 27.8 63.2 26 63.2 24.1 62.3 22.9 60.8 22.9ZM40 20.1L39.9 20.1 38.1 25.6 41.8 25.6 40 20.1ZM105.4 22.8C104.8 22.8 104.2 23.1 103.8 23.5 103.3 23.9 103.1 24.5 103.1 25.1L107.6 25.1C107.7 24.5 107.4 23.9 107 23.5 106.6 23.1 106 22.8 105.4 22.8Z" class="a"/><path d="M102.8 10.1C104.1 10.1 104.8 11 104.8 12.4L104.8 12.7 101.6 12.7 101.6 12.7C101.6 13.1 101.7 13.4 101.9 13.6 102.2 13.9 102.5 14 102.8 14 103.3 14.1 103.7 13.9 103.9 13.5L104.8 13.5C104.5 14.3 103.7 14.9 102.8 14.8 102.2 14.8 101.6 14.6 101.2 14.1 100.8 13.7 100.6 13.1 100.7 12.5 100.7 11.9 100.8 11.3 101.2 10.8 101.6 10.4 102.2 10.1 102.8 10.1ZM44.9 10.4C45.6 10.9 46 11.6 45.9 12.4 46 13.3 45.6 14 44.9 14.5 44.2 14.9 43.4 14.9 42.7 14.5 42 14 41.6 13.3 41.7 12.4 41.6 11.6 42 10.9 42.7 10.4 43.4 10 44.2 10 44.9 10.4ZM64.5 10.4C65.2 10.9 65.5 11.6 65.5 12.4 65.5 13.3 65.2 14 64.5 14.5 63.8 14.9 62.9 14.9 62.2 14.5 61.5 14 61.1 13.3 61.2 12.4 61.1 11.6 61.5 10.9 62.2 10.4 62.9 10 63.8 10 64.5 10.4ZM82.5 10.4C83.2 10.9 83.6 11.6 83.5 12.4 83.6 13.3 83.2 14 82.5 14.5 81.8 14.9 80.9 14.9 80.2 14.5 79.5 14 79.2 13.3 79.2 12.4 79.2 11.6 79.5 10.9 80.2 10.4 80.9 10 81.8 10 82.5 10.4ZM68.4 10.1C69.5 10.1 70.2 10.7 70.2 11.6L70.2 14.7 69.3 14.7 69.3 14.1 69.3 14.1C69 14.5 68.4 14.8 67.9 14.8 67.5 14.8 67.1 14.7 66.9 14.4 66.6 14.2 66.4 13.8 66.4 13.4 66.4 12.6 67 12.1 68.1 12.1L69.3 12 69.3 11.6C69.3 11.1 69 10.9 68.4 10.9 67.9 10.9 67.5 11.1 67.4 11.4L66.6 11.4C66.7 10.6 67.4 10.1 68.4 10.1ZM75.6 8.4L75.6 14.7 74.7 14.7 74.7 14 74.6 14C74.3 14.5 73.8 14.8 73.2 14.8 72.1 14.8 71.3 13.9 71.3 12.4 71.3 11 72.1 10.1 73.2 10.1 73.8 10.1 74.3 10.4 74.6 10.9L74.7 10.9 74.7 8.4 75.6 8.4ZM93.5 9.1L93.5 10.2 94.5 10.2 94.5 11 93.5 11 93.5 13.3C93.5 13.8 93.7 14 94.2 14 94.3 14 94.4 14 94.5 13.9L94.5 14.7C94.3 14.7 94.2 14.7 94 14.7 93 14.7 92.6 14.4 92.6 13.5L92.6 11 91.9 11 91.9 10.2 92.6 10.2 92.6 9.1 93.5 9.1ZM39.9 9.5C40.5 10.1 40.7 10.9 40.6 11.7 40.6 13.6 39.6 14.7 37.8 14.7L35.7 14.7 35.7 8.7 37.8 8.7C38.6 8.7 39.4 9 39.9 9.5ZM47.5 10.2L48.3 13.6 48.3 13.6 49.3 10.2 50.1 10.2 51 13.6 51.1 13.6 51.9 10.2 52.8 10.2 51.6 14.7 50.7 14.7 49.7 11.4 49.7 11.4 48.7 14.7 47.8 14.7 46.6 10.2 47.5 10.2ZM56.1 10.1C56.6 10.1 57 10.2 57.3 10.6 57.6 10.9 57.7 11.3 57.7 11.8L57.7 14.7 56.8 14.7 56.8 12C56.8 11.3 56.5 10.9 55.8 10.9 55.5 10.9 55.2 11 55 11.2 54.8 11.5 54.7 11.8 54.7 12.1L54.7 14.7 53.9 14.7 53.9 10.2 54.7 10.2 54.7 10.9 54.8 10.9C55 10.4 55.5 10.1 56.1 10.1ZM60 8.4L60 14.7 59.1 14.7 59.1 8.4 60 8.4ZM86.9 10.1C87.4 10.1 87.8 10.2 88.1 10.6 88.4 10.9 88.6 11.3 88.5 11.8L88.5 14.7 87.6 14.7 87.6 12C87.6 11.3 87.3 10.9 86.6 10.9 86.3 10.9 86 11 85.8 11.2 85.6 11.5 85.5 11.8 85.6 12.1L85.6 14.7 84.7 14.7 84.7 10.2 85.5 10.2 85.5 10.9 85.6 10.9C85.8 10.4 86.4 10.1 86.9 10.1ZM96.6 8.4L96.6 10.9 96.7 10.9C96.9 10.4 97.4 10.1 98 10.1 98.5 10.1 98.9 10.3 99.2 10.6 99.5 10.9 99.6 11.4 99.6 11.8L99.6 14.7 98.7 14.7 98.7 12C98.7 11.3 98.4 10.9 97.7 10.9 97.4 10.9 97.1 11 96.9 11.2 96.7 11.5 96.6 11.8 96.6 12.1L96.6 14.7 95.7 14.7 95.7 8.4 96.6 8.4ZM69.3 12.7L68.2 12.7C67.6 12.8 67.3 13 67.3 13.4 67.3 13.8 67.6 14 68.1 14 68.4 14.1 68.7 14 68.9 13.8 69.1 13.6 69.3 13.3 69.3 13L69.3 12.7ZM43.8 10.9C43 10.9 42.6 11.5 42.6 12.4 42.6 13.4 43 14 43.8 14 44.6 14 45 13.4 45 12.4 45 11.5 44.6 10.9 43.8 10.9ZM63.3 10.9C62.6 10.9 62.1 11.5 62.1 12.4 62.1 13.4 62.6 14 63.3 14 64.1 14 64.6 13.4 64.6 12.4 64.6 11.5 64.1 10.9 63.3 10.9ZM81.4 10.9C80.6 10.9 80.1 11.5 80.1 12.4 80.1 13.4 80.6 14 81.4 14 82.1 14 82.6 13.4 82.6 12.4 82.6 11.5 82.1 10.9 81.4 10.9ZM73.5 10.9C72.7 10.9 72.3 11.5 72.3 12.4 72.3 13.4 72.7 14 73.5 14 74.2 14 74.7 13.4 74.7 12.4 74.7 11.5 74.2 10.9 73.5 10.9ZM37.7 9.6L36.6 9.6 36.6 13.9 37.7 13.9C38.3 13.9 38.8 13.7 39.2 13.2 39.6 12.8 39.8 12.3 39.7 11.7 39.8 11.2 39.6 10.6 39.2 10.2 38.8 9.8 38.3 9.5 37.7 9.6ZM102.8 10.9C102.5 10.9 102.2 11 102 11.2 101.8 11.4 101.6 11.7 101.6 12L103.9 12C103.9 11.7 103.8 11.4 103.6 11.2 103.4 11 103.1 10.9 102.8 10.9Z" class="a"/></g></svg></a>';
}

function googlePlay (x, y) {
  return '<a target="_blanck" href="https://play.google.com/store/apps/details?id=com.myetherwallet.mewwallet"><svg y="' + y + '" x="' + x + '" width="447" height="132" viewBox="0 0 135 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>google_play_bage</title> <defs> <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1"> <stop stop-color="#00C3FF" offset="0%"></stop> <stop stop-color="#00E3FF" offset="100%"></stop> </linearGradient> <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-2"> <stop stop-color="#FFC800" offset="0%"></stop> <stop stop-color="#FFC900" offset="100%"></stop> </linearGradient> <linearGradient x1="86.7245433%" y1="30.5156513%" x2="-50.4810997%" y2="137.756613%" id="linearGradient-3"> <stop stop-color="#FF3944" offset="0%"></stop> <stop stop-color="#C31161" offset="100%"></stop> </linearGradient> <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-4"> <stop stop-color="#11D574" offset="0%"></stop> <stop stop-color="#00F076" offset="100%"></stop> </linearGradient> </defs> <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="google_play_bage"> <path d="M126.026402,0.5 C129.005119,0.5 130.092301,0.792472871 131.183161,1.37587106 C132.2349,1.93834757 133.060436,2.76361455 133.623134,3.81531065 C134.246841,5.06913287 134.5,6.20765052 134.5,8.9735982 L134.5,8.9735982 L134.500015,31.0225217 L134.495108,31.6572117 C134.454317,34.1697978 134.163466,35.1746885 133.624129,36.1831605 C133.061652,37.2349002 132.236385,38.0604359 131.184689,38.6231339 C129.930867,39.2468408 128.792349,39.5 126.026402,39.5 L126.026402,39.5 L8.97747829,39.5000151 L8.34278828,39.4951075 C5.83020215,39.4543166 4.8253115,39.1634657 3.81683947,38.6241289 C2.76509984,38.0616524 1.93956411,37.2363855 1.3768661,36.1846894 C0.753159192,34.9308671 0.5,33.7923495 0.5,31.0264018 L0.5,31.0264018 L0.5,8.9735982 C0.5,5.99488122 0.792472871,4.90769924 1.37587106,3.81683947 C1.93845062,2.76490716 2.76391694,1.93926163 3.81587772,1.37658239 C5.02760023,0.773724722 6.11548273,0.520920415 8.6468032,0.501241391 L8.6468032,0.501241391 Z" id="Rectangle" stroke="#A6A6A6" fill="#000000"></path> <path d="M47.419,10.243 C47.419,11.081 47.17,11.749 46.673,12.246 C46.109,12.838 45.374,13.134 44.469,13.134 C43.603,13.134 42.867,12.834 42.261,12.233 C41.655,11.633 41.352,10.888 41.352,10 C41.352,9.111 41.655,8.367 42.261,7.767 C42.867,7.166 43.603,6.866 44.469,6.866 C44.899,6.866 45.31,6.95 45.701,7.117 C46.091,7.285 46.405,7.508 46.639,7.788 L46.112,8.315 C45.714,7.841 45.168,7.604 44.469,7.604 C43.837,7.604 43.292,7.825 42.831,8.27 C42.37,8.714 42.139,9.291 42.139,10 C42.139,10.709 42.37,11.286 42.831,11.73 C43.292,12.175 43.837,12.396 44.469,12.396 C45.139,12.396 45.698,12.173 46.145,11.727 C46.435,11.436 46.603,11.031 46.648,10.511 L44.469,10.511 L44.469,9.791 L47.377,9.791 C47.405,9.947 47.419,10.098 47.419,10.243" id="Fill-6" fill="#FFFFFF"></path> <path d="M47.419,10.243 L47.319,10.243 C47.318,11.062 47.079,11.698 46.603,12.175 L46.602,12.176 L46.601,12.177 C46.055,12.748 45.352,13.033 44.469,13.034 C43.626,13.033 42.921,12.745 42.332,12.162 C41.744,11.579 41.453,10.866 41.452,10 C41.453,9.134 41.744,8.421 42.332,7.838 C42.921,7.255 43.626,6.967 44.469,6.966 C44.886,6.966 45.283,7.047 45.661,7.209 C46.04,7.372 46.34,7.586 46.563,7.852 L46.639,7.788 L46.568,7.717 L46.041,8.245 L46.112,8.315 L46.188,8.251 C45.773,7.753 45.189,7.502 44.469,7.504 C43.814,7.503 43.238,7.737 42.761,8.198 C42.28,8.66 42.038,9.269 42.039,10 C42.038,10.731 42.28,11.34 42.761,11.802 C43.238,12.263 43.814,12.497 44.469,12.497 C45.161,12.498 45.751,12.263 46.216,11.797 C46.526,11.486 46.702,11.056 46.748,10.52 L46.757,10.411 L44.569,10.411 L44.569,9.89 L47.377,9.89 L47.377,9.791 L47.278,9.808 C47.305,9.96 47.319,10.104 47.319,10.243 L47.519,10.243 C47.519,10.091 47.504,9.935 47.475,9.773 L47.46,9.691 L44.369,9.691 L44.369,10.611 L46.648,10.611 L46.648,10.511 L46.548,10.503 C46.504,11.006 46.344,11.385 46.074,11.656 C45.644,12.084 45.117,12.296 44.469,12.297 C43.861,12.296 43.345,12.086 42.9,11.659 C42.459,11.232 42.24,10.688 42.239,10 C42.24,9.312 42.459,8.768 42.9,8.341 C43.345,7.914 43.861,7.704 44.469,7.704 C45.146,7.705 45.656,7.929 46.035,8.38 L46.105,8.463 L46.71,7.858 L46.775,7.794 L46.716,7.723 C46.47,7.43 46.142,7.198 45.74,7.025 C45.337,6.853 44.912,6.7659976 44.469,6.7659976 C43.58,6.765 42.813,7.077 42.191,7.696 C41.566,8.313 41.251,9.089 41.2519976,10 C41.251,10.911 41.566,11.687 42.191,12.305 C42.813,12.923 43.58,13.235 44.469,13.2340024 C45.395,13.235 46.163,12.927 46.746,12.315 L46.673,12.246 L46.744,12.317 C47.262,11.799 47.519,11.1 47.519,10.243 L47.419,10.243" id="Fill-7" fill="#FFFFFF"></path> <polyline id="Fill-8" fill="#FFFFFF" points="52.028 7.737 49.295 7.737 49.295 9.64 51.759 9.64 51.759 10.36 49.295 10.36 49.295 12.263 52.028 12.263 52.028 13 48.525 13 48.525 7 52.028 7 52.028 7.737"></polyline> <polyline id="Fill-9" fill="#FFFFFF" points="52.028 7.737 52.028 7.637 49.195 7.637 49.195 9.74 51.659 9.74 51.659 10.26 49.195 10.26 49.195 12.363 51.928 12.363 51.928 12.9 48.625 12.9 48.625 7.1 51.928 7.1 51.928 7.737 52.028 7.737 52.028 7.637 52.028 7.737 52.128 7.737 52.128 6.9 48.425 6.9 48.425 13.1 52.128 13.1 52.128 12.163 49.395 12.163 49.395 10.46 51.859 10.46 51.859 9.54 49.395 9.54 49.395 7.837 52.128 7.837 52.128 7.737 52.028 7.737"></polyline> <polyline id="Fill-10" fill="#FFFFFF" points="55.279 13 54.507 13 54.507 7.737 52.832 7.737 52.832 7 56.955 7 56.955 7.737 55.279 7.737 55.279 13"></polyline> <polyline id="Fill-11" fill="#FFFFFF" points="55.279 13 55.279 12.9 54.607 12.9 54.607 7.637 52.931 7.637 52.931 7.1 56.855 7.1 56.855 7.637 55.179 7.637 55.179 13 55.279 13 55.279 12.9 55.279 13 55.379 13 55.379 7.837 57.055 7.837 57.055 6.9 52.731 6.9 52.731 7.837 54.407 7.837 54.407 13.1 55.379 13.1 55.379 13 55.279 13"></polyline> <polygon id="Fill-12" fill="#FFFFFF" points="59.938 13 60.709 13 60.709 7 59.938 7"></polygon> <polyline id="Fill-13" fill="#FFFFFF" points="59.938 13 60.038 13 60.038 7.1 60.608 7.1 60.608 12.9 59.938 12.9 59.938 13 60.038 13 59.938 13 59.938 13.1 60.809 13.1 60.809 6.9 59.838 6.9 59.838 13.1 59.938 13.1 59.938 13"></polyline> <polyline id="Fill-14" fill="#FFFFFF" points="64.128 13 63.357 13 63.357 7.737 61.681 7.737 61.681 7 65.804 7 65.804 7.737 64.128 7.737 64.128 13"></polyline> <polyline id="Fill-15" fill="#FFFFFF" points="64.128 13 64.128 12.9 63.457 12.9 63.457 7.637 61.781 7.637 61.781 7.1 65.704 7.1 65.704 7.637 64.028 7.637 64.028 13 64.128 13 64.128 12.9 64.128 13 64.228 13 64.228 7.837 65.904 7.837 65.904 6.9 61.581 6.9 61.581 7.837 63.257 7.837 63.257 13.1 64.228 13.1 64.228 13 64.128 13"></polyline> <path d="M69.779,11.722 C70.224,12.172 70.767,12.396 71.409,12.396 C72.052,12.396 72.596,12.172 73.039,11.722 C73.483,11.272 73.706,10.698 73.706,10 C73.706,9.302 73.483,8.728 73.039,8.278 C72.596,7.828 72.052,7.604 71.409,7.604 C70.767,7.604 70.224,7.828 69.779,8.278 C69.336,8.728 69.113,9.302 69.113,10 C69.113,10.698 69.336,11.272 69.779,11.722 Z M73.609,12.225 C73.02,12.831 72.286,13.134 71.409,13.134 C70.532,13.134 69.799,12.831 69.21,12.225 C68.62,11.619 68.326,10.877 68.326,10 C68.326,9.123 68.62,8.381 69.21,7.775 C69.799,7.169 70.532,6.866 71.409,6.866 C72.281,6.866 73.013,7.17 73.605,7.779 C74.197,8.388 74.493,9.128 74.493,10 C74.493,10.877 74.198,11.619 73.609,12.225 L73.609,12.225 Z" id="Fill-16" fill="#FFFFFF"></path> <path d="M69.779,11.722 L69.708,11.792 C70.169,12.26 70.743,12.498 71.409,12.4970031 C72.075,12.498 72.65,12.26 73.11,11.792 C73.574,11.325 73.807,10.719 73.8060032,10 C73.807,9.281 73.574,8.676 73.11,8.208 C72.65,7.74 72.075,7.503 71.409,7.50399685 C70.743,7.503 70.169,7.74 69.708,8.208 C69.246,8.676 69.012,9.281 69.0129968,10 C69.012,10.719 69.246,11.325 69.708,11.792 L69.851,11.652 C69.426,11.221 69.214,10.677 69.213,10 C69.214,9.323 69.426,8.779 69.851,8.348 L69.85,8.348 C70.279,7.916 70.79,7.705 71.409,7.704 C72.029,7.705 72.541,7.916 72.968,8.348 C73.393,8.78 73.605,9.323 73.606,10 C73.605,10.677 73.393,11.22 72.968,11.652 C72.541,12.084 72.029,12.296 71.409,12.297 C70.79,12.295 70.279,12.084 69.85,11.652 L69.779,11.722 Z M73.609,12.225 L73.538,12.155 C72.965,12.743 72.263,13.033 71.409,13.034 C70.555,13.033 69.854,12.743 69.282,12.155 L69.279,12.152 L69.282,12.155 C68.71,11.566 68.427,10.855 68.426,10 C68.427,9.145 68.71,8.434 69.282,7.845 C69.854,7.257 70.555,6.967 71.409,6.966 C72.258,6.967 72.957,7.259 73.534,7.849 C74.108,8.441 74.392,9.151 74.393,10 C74.392,10.855 74.109,11.566 73.538,12.155 L73.681,12.294 C74.288,11.672 74.594,10.899 74.5930024,10 C74.594,9.106 74.286,8.335 73.677,7.71 C73.068,7.082 72.304,6.765 71.409,6.76599763 C70.509,6.765 69.744,7.081 69.138,7.706 C68.531,8.329 68.225,9.101 68.2259976,10 C68.225,10.899 68.531,11.672 69.138,12.294 L69.141,12.297 L69.138,12.294 C69.744,12.92 70.509,13.235 71.409,13.2340024 C72.309,13.235 73.075,12.92 73.681,12.294 L73.609,12.225 L73.609,12.225 Z" id="Fill-17" fill="#FFFFFF"></path> <polyline id="Fill-18" fill="#FFFFFF" points="75.575 13 75.575 7 76.514 7 79.43 11.667 79.463 11.667 79.43 10.511 79.43 7 80.201 7 80.201 13 79.396 13 76.346 8.106 76.312 8.106 76.346 9.263 76.346 13 75.575 13"></polyline> <polyline id="Fill-19" fill="#FFFFFF" points="75.575 13 75.675 13 75.675 7.1 76.458 7.1 79.374 11.768 79.566 11.768 79.53 10.51 79.53 7.1 80.101 7.1 80.101 12.9 79.452 12.9 76.401 8.006 76.21 8.006 76.246 9.264 76.246 12.9 75.575 12.9 75.575 13 75.675 13 75.575 13 75.575 13.1 76.446 13.1 76.446 9.261 76.412 8.104 76.312 8.106 76.312 8.206 76.346 8.206 76.346 8.106 76.261 8.159 79.341 13.1 80.301 13.1 80.301 6.9 79.33 6.9 79.33 10.513 79.363 11.67 79.463 11.667 79.463 11.568 79.43 11.568 79.43 11.667 79.515 11.615 76.569 6.9 75.475 6.9 75.475 13.1 75.575 13.1 75.575 13"></polyline> <path d="M106.936,30 L108.802,30 L108.802,17.499 L106.936,17.499 L106.936,30 Z M123.743,22.002 L121.604,27.422 L121.54,27.422 L119.32,22.002 L117.31,22.002 L120.639,29.577 L118.741,33.791 L120.688,33.791 L125.818,22.002 L123.743,22.002 Z M113.161,28.58 C112.549,28.58 111.697,28.275 111.697,27.519 C111.697,26.554 112.759,26.184 113.675,26.184 C114.496,26.184 114.881,26.361 115.38,26.602 C115.235,27.76 114.238,28.58 113.161,28.58 Z M113.386,21.729 C112.035,21.729 110.636,22.324 110.057,23.643 L111.713,24.334 C112.067,23.643 112.726,23.417 113.418,23.417 C114.383,23.417 115.364,23.996 115.38,25.026 L115.38,25.154 C115.042,24.961 114.319,24.672 113.434,24.672 C111.649,24.672 109.831,25.653 109.831,27.486 C109.831,29.159 111.295,30.237 112.935,30.237 C114.19,30.237 114.881,29.674 115.316,29.014 L115.38,29.014 L115.38,29.979 L117.181,29.979 L117.181,25.187 C117.181,22.967 115.525,21.729 113.386,21.729 Z M101.854,23.524 L99.2,23.524 L99.2,19.239 L101.854,19.239 C103.249,19.239 104.041,20.394 104.041,21.381 C104.041,22.35 103.249,23.524 101.854,23.524 Z M101.806,17.499 L97.335,17.499 L97.335,30 L99.2,30 L99.2,25.264 L101.806,25.264 C103.874,25.264 105.907,23.766 105.907,21.381 C105.907,18.996 103.874,17.499 101.806,17.499 Z M77.425,28.582 C76.136,28.582 75.057,27.503 75.057,26.021 C75.057,24.523 76.136,23.427 77.425,23.427 C78.698,23.427 79.696,24.523 79.696,26.021 C79.696,27.503 78.698,28.582 77.425,28.582 Z M79.567,22.702 L79.503,22.702 C79.084,22.203 78.279,21.752 77.264,21.752 C75.137,21.752 73.188,23.62 73.188,26.021 C73.188,28.405 75.137,30.258 77.264,30.258 C78.279,30.258 79.084,29.807 79.503,29.291 L79.567,29.291 L79.567,29.903 C79.567,31.531 78.698,32.401 77.296,32.401 C76.152,32.401 75.443,31.579 75.153,30.886 L73.526,31.563 C73.993,32.691 75.234,34.076 77.296,34.076 C79.487,34.076 81.34,32.787 81.34,29.646 L81.34,22.009 L79.567,22.009 L79.567,22.702 Z M82.629,30 L84.498,30 L84.498,17.498 L82.629,17.498 L82.629,30 Z M87.252,25.876 C87.204,24.233 88.525,23.395 89.475,23.395 C90.217,23.395 90.845,23.765 91.054,24.297 L87.252,25.876 Z M93.052,24.458 C92.698,23.508 91.618,21.752 89.411,21.752 C87.22,21.752 85.4,23.475 85.4,26.005 C85.4,28.389 87.204,30.258 89.62,30.258 C91.57,30.258 92.698,29.066 93.165,28.373 L91.715,27.406 C91.232,28.115 90.571,28.582 89.62,28.582 C88.67,28.582 87.993,28.147 87.558,27.294 L93.245,24.942 L93.052,24.458 Z M47.744,23.057 L47.744,24.861 L52.061,24.861 C51.932,25.876 51.594,26.617 51.079,27.133 C50.45,27.761 49.467,28.453 47.744,28.453 C45.086,28.453 43.007,26.311 43.007,23.653 C43.007,20.994 45.086,18.852 47.744,18.852 C49.178,18.852 50.225,19.416 50.998,20.141 L52.271,18.868 C51.191,17.837 49.758,17.047 47.744,17.047 C44.103,17.047 41.042,20.012 41.042,23.653 C41.042,27.294 44.103,30.258 47.744,30.258 C49.709,30.258 51.191,29.614 52.351,28.405 C53.543,27.213 53.914,25.538 53.914,24.184 C53.914,23.765 53.882,23.379 53.817,23.057 L47.744,23.057 Z M58.823,28.582 C57.534,28.582 56.422,27.519 56.422,26.005 C56.422,24.474 57.534,23.427 58.823,23.427 C60.111,23.427 61.223,24.474 61.223,26.005 C61.223,27.519 60.111,28.582 58.823,28.582 Z M58.823,21.752 C56.47,21.752 54.553,23.54 54.553,26.005 C54.553,28.453 56.47,30.258 58.823,30.258 C61.175,30.258 63.092,28.453 63.092,26.005 C63.092,23.54 61.175,21.752 58.823,21.752 Z M68.136,28.582 C66.847,28.582 65.735,27.519 65.735,26.005 C65.735,24.474 66.847,23.427 68.136,23.427 C69.425,23.427 70.536,24.474 70.536,26.005 C70.536,27.519 69.425,28.582 68.136,28.582 Z M68.136,21.752 C65.784,21.752 63.867,23.54 63.867,26.005 C63.867,28.453 65.784,30.258 68.136,30.258 C70.488,30.258 72.405,28.453 72.405,26.005 C72.405,23.54 70.488,21.752 68.136,21.752 L68.136,21.752 Z" id="Fill-20" fill="#FFFFFF"></path> <g id="Group" transform="translate(9.973000, 7.141000)"><path d="M0.537,25.249 L0.462,25.177 C0.172,24.869 -8.8817842e-15,24.392 -8.8817842e-15,23.772 L-8.8817842e-15,23.918 L-8.8817842e-15,1.802 C-8.8817842e-15,1.8 -8.8817842e-15,1.799 -8.8817842e-15,1.797 C-8.8817842e-15,1.799 -8.8817842e-15,1.801 -8.8817842e-15,1.802 L-8.8817842e-15,1.949 C-8.8817842e-15,1.278 0.2,0.773 0.536,0.47 L12.925,12.86 L0.537,25.249 M-8.82627305e-15,1.796 C-8.82627305e-15,1.741 0.001,1.687 0.004,1.634 C0.001,1.687 -8.82627305e-15,1.741 -8.82627305e-15,1.796" id="Clip-22" fill="url(#linearGradient-1)"></path> <path d="M17.055,17.137 L17.055,17.137 L17.149,17.084 L22.042,14.304 C22.508,14.039 22.819,13.717 22.974,13.377 C22.819,13.717 22.509,14.039 22.042,14.304 L17.149,17.084 L17.055,17.137 M17.056,16.991 L12.925,12.86 L17.056,8.729 L22.042,11.562 C22.675,11.922 23.031,12.386 23.09,12.859 C23.09,12.86 23.09,12.86 23.09,12.861 C23.031,13.334 22.675,13.798 22.042,14.158 L17.056,16.991" id="Clip-25" fill="url(#linearGradient-2)"></path> <path d="M1.42,25.72 C1.074,25.72 0.772,25.608 0.536,25.395 L0.537,25.395 C0.772,25.607 1.075,25.72 1.421,25.72 C1.451,25.72 1.481,25.72 1.512,25.718 C1.481,25.72 1.45,25.72 1.42,25.72 M1.42,25.574 C1.074,25.574 0.772,25.461 0.537,25.249 L12.925,12.86 L17.056,16.991 L2.541,25.238 C2.139,25.466 1.759,25.574 1.42,25.574" id="Fill-27" fill="url(#linearGradient-3)"></path><path d="M12.925,12.86 L12.925,12.86 L0.536,0.47 C0.771,0.258 1.073,0.146 1.419,0.146 C1.757,0.146 2.138,0.254 2.541,0.482 L17.056,8.729 L12.925,12.86 M17.149,8.636 L2.541,0.336 C2.139,0.108 1.757,6.21724894e-15 1.419,6.21724894e-15 C1.417,6.21724894e-15 1.416,6.21724894e-15 1.414,6.21724894e-15 C1.416,6.21724894e-15 1.418,6.21724894e-15 1.42,6.21724894e-15 C1.758,6.21724894e-15 2.139,0.107 2.541,0.336 L17.149,8.636" id="Clip-31" fill="url(#linearGradient-4)"></path></g></g></g></svg></a>';
} 

$(window).load(function(){
  if($("div").hasClass("js-comic-body")) {
    updateButtons()
    resizeComicWrap()
    updateZoom()
  
    $.getJSON( "/what-is-ethereum/strings/en/index.json", function(data) {
      strings = data.result;
    });
  
    lottie.loadAnimation({
      container: document.getElementById('js-preloader'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: '/images/loader.json'
    });
  
    comics[0] = lottie.loadAnimation({
      container: document.getElementById('js-comic'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: getComicPatch(0)
    });
  }
});

$(window).resize(function(){
  if($("div").hasClass("js-comic-body")) {
    resizeComicWrap()
    generateButtons()
    updateZoom()
  }
});

function loadComic() {
  updateButtons()
  loading = true

  if (!comics[comic]) {
    comics[comic] = lottie.loadAnimation({
      container: document.getElementById('js-comic'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: getComicPatch(comic)
    });

    comics[comic].addEventListener('DOMLoaded', playComic);
  } else {
    playLoadedComic()
  }
}

function playLoadedComic() {
  comics[comic] = lottie.loadAnimation({
    container: document.getElementById('js-comic'),
    renderer: 'svg',
    loop: true,
    autoplay: true,
    animationData: comics[comic].animationData
  });

  comics[comic].addEventListener('DOMLoaded', playComic);
}

function playComic() {

  var string = '';

  if(!!strings[comic]) {
    string += '<text x="' + strings[comic].position.x + '" y="' + strings[comic].position.y + '" width="' + strings[comic].size.width + '" height="' + strings[comic].size.height + '" class="comic-book__animation-text">';

    strings[comic].text.map(function(text) {
      string += '<tspan x="' + strings[comic].position.x + '" dy="1.213em" text-anchor="middle">' + text + '</tspan>';
    });

    string += '</text>';
  }

  generateButtons()

  document.getElementById('BUBBLE_TEXT_1').innerHTML = string;

  $('.js-comic').fadeTo(DELAY, 1);

  if (comic !== 9 && !comics[comic + 1]) {
    comics[comic + 1] = lottie.loadAnimation({
      container: document.getElementById('js-comic'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: getComicPatch(comic + 1)
    });
  }

  setTimeout(function() {
    comics[comic].play()
    loading = false
  }, DELAY)
}

function nextComic() {
  if(!loading) {
    if(comic == -1) {
      $('.js-comic').fadeTo(DELAY, 0);
      loading = true

      setTimeout(function(){
        document.getElementById("js-comic").innerHTML = "";
        comic += 1;
        loadComic(comic);
      }, DELAY);
    } else if (comic !== 9) {
      $('.js-comic').fadeTo(DELAY, 0);
      loading = true

      setTimeout(function(){
        comics[comic].stop()
        comics[comic].destroy()
  
        comic += 1
        loadComic(comic)
      }, DELAY)
    }
  }
}

function prevComic() {
  if(!loading) {
    if(comic !== -1) {
      $('.js-comic').fadeTo(DELAY, 0);
      loading = true

      setTimeout(function(){
        comics[comic].stop()
        comics[comic].destroy()
    
        comic -= 1
    
        if(comic == -1) {
          $('.js-comic').fadeTo(DELAY, 1);

          setTimeout(function(){
            loading = false
            document.getElementById("js-comic").innerHTML = '<img class="comic-book__wrapper-cover" src="/pic/what-is-eth-cover@2x.png" />';
            updateButtons();        
          }, DELAY)
        } else {
          loading = true
          loadComic(comic)
        }
      }, DELAY)
    }
  }
}

function getComicPatch(index) {
  var path = ""

  switch (index) {
    case 0:
      path = "./mew-s1.json";
      break;
    case 1:
      path = "./mew-s2.json";
      break;
    case 2:
      path = "./mew-s3.json";
      break;
    case 3:
      path = "./mew-s4.json";
      break;
    case 4:
      path = "./mew-s5.json";
      break;
    case 5:
      path = "./mew-s6.json";
      break;
    case 6:
      path = "./mew-s7.json";
      break;
    case 7:
      path = "./mew-s8.json";
      break;
    case 8:
      path = "./mew-s9.json";
      break;
    case 9:
      path = "./mew-s10.json";
      break;
    default:
      path = "./mew-s1.json";
  }

  return path  
}

function resizeComicWrap() {
  var height = window.innerHeight - 80
  var width = Math.floor(1080 / (1920 / height))

  if($(window).width() > 960) {
    $(".js-comic").removeAttr("style");

    var styles = {
      width: width,
      height: height,
      marginLeft: -Math.floor(width / 2),
      display: 'block',
      top: 40,
      left: "50%",
    };
  
    $(".js-comic-wrapper").css(styles);
  
    $("#clipped-rect").attr('width' , width);
    $("#clipped-rect").attr('height' , height);
    $("#clipped-rect").attr('rx' , 20);
    $("#clipped-rect").attr('ry' , 20);

  } else if($(window).width() > 740) {

    $(".js-menu").removeAttr("style");

    height =window.innerHeight - 412
    width = Math.floor(1080 / (1920 / height))

    var styles = {
      width: width,
      height: height,
      marginLeft: -Math.floor(width / 2),
      display: 'block',
      top: 209,
      left: "50%",
    };
  
    $(".js-comic").removeAttr("style");
  
    $("#clipped-rect").attr('width', width);
    $("#clipped-rect").attr('height', height);
    $("#clipped-rect").attr('rx', 20);
    $("#clipped-rect").attr('ry', 20);

  } else {
    var width1 = window.innerWidth;
    var height1 = Math.floor(1920 / (1080 / width1));

    if (height1 < window.innerHeight) {
      height1 = window.innerHeight
      width1 = Math.floor(1080 / (1920 / height1));
    }

    var top = (window.innerHeight - height1) / 2
    
    var styles1 = {
      width: width1,
      height: height1,
      display: 'block',
      top: top < -30 ? top + 30 : top,
      left: (window.innerWidth - width1) / 2,
    };

    $(".js-comic").css(styles1);

    var styles = {
      width: window.innerWidth,
      height: window.innerHeight,
      marginLeft: 0,
      display: 'block',
      top: 0,
      left: 0,
    };
  
    $(".js-comic-wrapper").css(styles);
  
    $("#clipped-rect").attr('width', window.innerWidth);
    $("#clipped-rect").attr('height', window.innerHeight);
    $("#clipped-rect").attr('rx' , 0);
    $("#clipped-rect").attr('ry' , 0);
  }

  $(".js-menu").removeAttr("style");

  $(".js-comic-body").css({
    width: window.innerWidth,
    height: window.innerHeight,
  });
}

function updateButtons() {
  if(comic == -1) {
    $(".js-prev").addClass('hide');
  } else {
    $(".js-prev").removeClass('hide');
  }

  if(comic == 9) {
    $(".js-next").addClass('hide');
  } else {
    $(".js-next").removeClass('hide');
  }
}

function toggleMenu() {
  $(".js-menu-toggle").toggleClass('close');
  $(".js-menu").slideToggle('close');
} 

function generateButtons () {
  if(comic == 9) {
    if($(window).width() > 740) {
      $('#BUBBLE_TEXT_2').removeAttr('clip-path').attr('transform', 'matrix(1,0,0,1,317,1451.875)');
      document.getElementById('BUBBLE_TEXT_2').innerHTML = appStore(26, 0) + googlePlay(0, 180);
    } else {
      $('#BUBBLE_TEXT_2').removeAttr('clip-path').attr('transform', 'matrix(1,0,0,1,95,1451.875)');
      document.getElementById('BUBBLE_TEXT_2').innerHTML = appStore(0, 0) + googlePlay(443, 0);
    }
  }
}

function updateZoom () {
  var screenCssPixelRatio = (window.outerWidth - 8) / window.innerWidth;
  if (screenCssPixelRatio >= .46 && screenCssPixelRatio <= .54) {
    zoomLevel = "-4";
  } else if (screenCssPixelRatio <= .64) {
    zoomLevel = "-3";
  } else if (screenCssPixelRatio <= .76) {
    zoomLevel = "-2";
  } else if (screenCssPixelRatio <= .92) {
    zoomLevel = "-1";
  } else if (screenCssPixelRatio <= 1.10) {
    zoomLevel = "0";
  } else if (screenCssPixelRatio <= 1.32) {
    zoomLevel = "1";
  } else if (screenCssPixelRatio <= 1.58) {
    zoomLevel = "2";
  } else if (screenCssPixelRatio <= 1.90) {
    zoomLevel = "3";
  } else if (screenCssPixelRatio <= 2.28) {
    zoomLevel = "4";
  } else if (screenCssPixelRatio <= 2.70) {
    zoomLevel = "5";
  } else {
    zoomLevel = "unknown";
  }

  if(zoomLevel == "0" || zoomLevel == "1" || zoomLevel == "-1" || zoomLevel == "-2") {
    $('.clipped').addClass('zoom')
  } else {
    $('.clipped').removeClass('zoom')
  }
}
